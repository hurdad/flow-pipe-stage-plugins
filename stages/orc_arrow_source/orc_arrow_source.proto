syntax = "proto3";

package flowpipe.stages.orc.arrow.source.v1;

// Configuration for OrcArrowSource stage
message OrcArrowSourceConfig {
  enum OutputType {
    OUTPUT_TYPE_TABLE = 0;
    OUTPUT_TYPE_RECORD_BATCH = 1;
  }

  enum FileSystem {
    FILE_SYSTEM_AUTO = 0;
    FILE_SYSTEM_LOCAL = 1;
    FILE_SYSTEM_S3 = 2;
    FILE_SYSTEM_GCS = 3;
    FILE_SYSTEM_HDFS = 4;
  }

  enum MemoryPool {
    MEMORY_POOL_DEFAULT = 0;
    MEMORY_POOL_SYSTEM = 1;
    MEMORY_POOL_JEMALLOC = 2;
    MEMORY_POOL_MIMALLOC = 3;
  }

  // File path to read
  string path = 1;

  // Output payload type
  OutputType output_type = 2;

  // Filesystem selection
  FileSystem filesystem = 3;

  // Memory pool selection
  MemoryPool memory_pool = 4;
}
